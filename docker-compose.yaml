version: '3.3'

services:
    translation_proxy:
        build:
            context: ./proxy 
        environment: 
            - MODEL_PATH=data
        command: python app.py
        ports:
            - "5000:5000"

    en_fr:
        image: translation_base
        environment:
            - MODEL_PATH=data
            - SOURCE_LANG=en
            - TARGET_LANG=fr
        command: python app.py
        volumes:
            - ./data:/app/data

    fr_en:
        image: translation_base
        environment:
            - MODEL_PATH=data
            - SOURCE_LANG=fr
            - TARGET_LANG=en
        command: python app.py
        volumes:
            - ./data:/app/data

volumes:
    data: